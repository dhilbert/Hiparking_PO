{% extends "layout.html" %}

{% block page_title %}
Compare
{% endblock %}

{% block content %}

<!-- ì œëª© -->
<div class="mb-10">
  <h2 class="text-3xl font-bold text-gray-800">1G â†” 2G ë°ì´í„° ë¹„êµ</h2>
  <p class="text-gray-600 mt-2">1GÂ·2G ë§¤ì¶œ ë°ì´í„°ë¥¼ ì—…ë¡œë“œí•˜ì—¬ ìë™ìœ¼ë¡œ ì°¨ì´ë¥¼ ë¶„ì„í•©ë‹ˆë‹¤.</p>
</div>

<!-- ì—…ë¡œë“œ ì„¹ì…˜ -->
<div class="bg-white rounded-2xl p-6 shadow-md border border-gray-200 mb-12">

  <form method="POST" enctype="multipart/form-data" action="/compare">

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

      <!-- 1G íŒŒì¼ -->
      <div>
        <label class="block mb-2 text-gray-700 font-medium">1G íŒŒì¼ ì—…ë¡œë“œ</label>
        <input type="file" name="file_1g" accept=".csv,.xls,.xlsx"
               class="w-full border rounded-lg p-3 bg-gray-50 focus:ring-2 focus:ring-orange-400">
      </div>

      <!-- 2G íŒŒì¼ -->
      <div>
        <label class="block mb-2 text-gray-700 font-medium">2G íŒŒì¼ ì—…ë¡œë“œ</label>
        <input type="file" name="file_2g" accept=".csv,.xls,.xlsx"
               class="w-full border rounded-lg p-3 bg-gray-50 focus:ring-2 focus:ring-orange-400">
      </div>

    </div>

    <div class="mt-6">
      <button class="px-6 py-3 bg-orange-500 text-white rounded-xl shadow hover:bg-orange-600">
        ğŸ” ë¹„êµ ì‹¤í–‰
      </button>
    </div>

  </form>
</div>

<!-- ê²°ê³¼ í‘œì‹œ -->
{% if results %}

<div class="mb-6">
  <h3 class="text-xl font-semibold text-gray-800 mb-3">ë¹„êµ ê²°ê³¼</h3>
  <div class="h-1 w-20 bg-gradient-to-r from-[#ff6b35] to-[#ff8c5a] rounded-full"></div>
</div>

<div class="overflow-auto bg-white rounded-2xl border shadow">
  <table class="w-full text-sm text-left border-collapse">

    <thead class="bg-gray-50 border-b">
      <tr>
        {% for col in results[0].keys() %}
        <th class="py-3 px-4 text-gray-700 font-semibold border-r">{{ col }}</th>
        {% endfor %}
      </tr>
    </thead>

    <tbody>
      {% for row in results %}
      <tr class="border-b hover:bg-gray-50">
        {% for col, val in row.items() %}
        <td class="py-3 px-4 border-r
          {% if val is string and 'ë¶ˆì¼ì¹˜' in val %} bg-red-100 text-red-700 font-semibold {% endif %}
          {% if val is string and 'ì—†ìŒ' in val %} bg-yellow-100 text-yellow-700 {% endif %}
        ">
          {{ val }}
        </td>
        {% endfor %}
      </tr>
      {% endfor %}
    </tbody>

  </table>
</div>

{% elif compared %}
<div class="text-center text-gray-600 text-lg mt-10">
  ì°¨ì´ê°€ ì—†ìŠµë‹ˆë‹¤. ë‘ ë°ì´í„°ëŠ” ë™ì¼í•©ë‹ˆë‹¤.
</div>
{% endif %}

{% endblock %}
