{% extends "layout.html" %}

{% block page_title %}
DMS ì¡°íšŒ
{% endblock %}

{% block content %}

<!-- ì œëª© -->
<div class="mb-10">
  <h2 class="text-3xl font-bold text-gray-800">DMS ë°ì´í„° ì¡°íšŒ</h2>
  <p class="text-gray-600 mt-2">ì£¼ë¬¸ì„œ ë²ˆí˜¸, ì°¨ëŸ‰ë²ˆí˜¸, ë‚ ì§œ ê¸°ì¤€ìœ¼ë¡œ DMS ë°ì´í„°ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.</p>
</div>

<!-- ê²€ìƒ‰ ì˜ì—­ -->
<div class="bg-white rounded-2xl p-6 shadow-md border border-gray-200 mb-12">

  <form method="GET" action="/dms">

    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">

      <!-- ë‚ ì§œ -->
      <div>
        <label class="block mb-2 text-gray-700 font-medium">ì¡°íšŒ ë‚ ì§œ</label>
        <input type="date" name="date" class="w-full border rounded-lg p-3 focus:ring-2 focus:ring-orange-400">
      </div>

      <!-- ì£¼ë¬¸ì„œë²ˆí˜¸ -->
      <div>
        <label class="block mb-2 text-gray-700 font-medium">ì£¼ë¬¸ì„œ ë²ˆí˜¸</label>
        <input type="text" name="ordersheet" placeholder="ì˜ˆ: 0000010H251120000162"
          class="w-full border rounded-lg p-3 focus:ring-2 focus:ring-orange-400">
      </div>

      <!-- ì°¨ëŸ‰ë²ˆí˜¸ -->
      <div>
        <label class="block mb-2 text-gray-700 font-medium">ì°¨ëŸ‰ ë²ˆí˜¸</label>
        <input type="text" name="carno" placeholder="ì˜ˆ: 12ê°€3456"
          class="w-full border rounded-lg p-3 focus:ring-2 focus:ring-orange-400">
      </div>

    </div>

    <!-- ë²„íŠ¼ -->
    <div class="mt-6">
      <button class="px-6 py-3 bg-orange-500 text-white rounded-xl shadow hover:bg-orange-600">
        ğŸ” ì¡°íšŒí•˜ê¸°
      </button>
    </div>

  </form>
</div>

<!-- ì¡°íšŒ ê²°ê³¼ -->
{% if results %}

<div class="mb-6">
  <h3 class="text-xl font-semibold text-gray-800 mb-3">ì¡°íšŒ ê²°ê³¼</h3>
  <div class="h-1 w-20 bg-gradient-to-r from-[#ff6b35] to-[#ff8c5a] rounded-full"></div>
</div>

<div class="overflow-auto bg-white rounded-2xl border shadow">
  <table class="w-full text-sm text-left border-collapse">
    <thead class="bg-gray-50 border-b">
      <tr>
        {% for col in results[0].keys() %}
        <th class="py-3 px-4 text-gray-700 font-semibold border-r">{{ col }}</th>
        {% endfor %}
      </tr>
    </thead>

    <tbody>
      {% for row in results %}
      <tr class="border-b hover:bg-gray-50">
        {% for col in row.values() %}
        <td class="py-3 px-4 border-r">{{ col }}</td>
        {% endfor %}
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

{% elif searched %}
<div class="text-center text-gray-600 text-lg mt-10">
  ì¡°íšŒëœ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.
</div>
{% endif %}

{% endblock %}
